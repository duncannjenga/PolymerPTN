<html><head></head><body><div hidden="" by-polymer-bundler=""><script>var fileInput=function(){var insertIntoDocument=function(){"use strict";var importDoc=(document._currentScript||document.currentScript).ownerDocument;return function(obj,idTemplate){var template=importDoc.getElementById(idTemplate),clone=document.importNode(template.content,!0);obj.appendChild(clone)}}(),declaredProps=function(){"use strict";var exports={};function parse(val,type){switch(type){case Number:return parseFloat(val||0,10);case Boolean:return null!==val;case Object:case Array:return JSON.parse(val);case Date:return new Date(val);default:return val||"";}}function toHyphens(str){return str.replace(/([A-Z])/g,"-$1").toLowerCase()}function toCamelCase(str){return str.split("-").map(function(x,i){return 0===i?x:x[0].toUpperCase()+x.slice(1)}).join("")}exports.serialize=function(val){if("string"===typeof val){return val}if("number"===typeof val||babelHelpers.instanceof(val,Date)){return val.toString()}return JSON.stringify(val)};exports.syncProperty=function(obj,props,attr,val){var name=toCamelCase(attr),type;if(props[name]){type=props[name].type||props[name];obj[name]=parse(val,type)}};exports.init=function(obj,props){Object.defineProperty(obj,"props",{enumerable:!1,configurable:!0,value:{}});Object.keys(props).forEach(function(name){var attrName=toHyphens(name),desc,value;desc=props[name].type?props[name]:{type:props[name]};value="function"===typeof desc.value?desc.value():desc.value;obj.props[name]=obj[name]||value;if(null===obj.getAttribute(attrName)){if(desc.reflectToAttribute){obj.setAttribute(attrName,exports.serialize(obj.props[name]))}}else{obj.props[name]=parse(obj.getAttribute(attrName),desc.type)}Object.defineProperty(obj,name,{get:function get(){return obj.props[name]||parse(obj.getAttribute(attrName),desc.type)},set:function set(val){var old=obj.props[name];obj.props[name]=val;if(desc.reflectToAttribute){if(desc.type===Boolean){if(val){obj.setAttribute(attrName,"")}else{obj.removeAttribute(attrName)}}else{obj.setAttribute(attrName,exports.serialize(val))}}if("function"===typeof obj[desc.observer]){obj[desc.observer](val,old)}}})})};return exports}(),arrayOf=function(pseudoArray){return Array.prototype.slice.call(pseudoArray)},getLowerCaseExtension=function(filename){var extIdx=filename.lastIndexOf(".")+1;if(0<extIdx){return filename.substr(extIdx,filename.length-extIdx).toLowerCase()}},getResultOfCountLimitValidation=function(limit,files){if(0<limit&&limit<files.length){return{invalid:files.slice(limit,files.length),valid:files.slice(0,limit)}}return{invalid:[],valid:files}},getResultOfExtensionsValidation=function(extensionsStr,files){if(extensionsStr){var negate="!"===extensionsStr.charAt(0),extensions=JSON.parse(extensionsStr.toLowerCase().substr(negate?1:0)),result={invalid:[],valid:[]};files.forEach(function(file){var extension=getLowerCaseExtension(file.name);if(0<=extensions.indexOf(extension)){result[negate?"invalid":"valid"].push(file)}else{result[negate?"valid":"invalid"].push(file)}});return result}return{invalid:[],valid:files}},getResultOfSizeValidation=function(minSize,maxSize,files){if(!minSize&&!maxSize){return{tooBig:[],tooSmall:[],valid:files}}var valid=[],tooBig=[],tooSmall=[];files.forEach(function(file){if(minSize&&file.size<minSize){tooSmall.push(file)}else if(maxSize&&file.size>maxSize){tooBig.push(file)}else{valid.push(file)}});return{tooBig:tooBig,tooSmall:tooSmall,valid:valid}},isIos=function(){return-1!==navigator.userAgent.indexOf("iPad")||-1!==navigator.userAgent.indexOf("iPod")||-1!==navigator.userAgent.indexOf("iPhone")},resetInput=function(customEl){var tempForm=document.createElement("form"),fileInput=customEl.querySelector(".fileInput"),tempResetButton=document.createElement("button");tempResetButton.setAttribute("type","reset");tempResetButton.style.display="none";tempForm.appendChild(tempResetButton);fileInput.parentNode.insertBefore(tempForm,fileInput);tempForm.appendChild(fileInput);tempResetButton.click();tempForm.parentNode.appendChild(fileInput);tempForm.parentNode.removeChild(tempForm);customEl.files=[];customEl.invalid={count:0};customEl.valid=[];updateValidity(customEl)},setupValidationTarget=function(customEl){validationTarget=document.createElement("input");validationTarget.setAttribute("tabindex","-1");validationTarget.setAttribute("type","text");validationTarget.style.padding="1px";validationTarget.style.margin="-1px";validationTarget.style.border=0;validationTarget.style.height=0;validationTarget.style.opacity=0;validationTarget.style.width=0;validationTarget.className="fileInputDelegate";validationTarget.customElementRef=customEl;customEl.parentNode.insertBefore(validationTarget,customEl);updateValidity(customEl)},updateValidity=function(customEl){if(validationTarget){if(customEl.files.length){validationTarget.setCustomValidity("")}else{validationTarget.setCustomValidity(customEl.invalidText)}}},validationTarget,properties={accept:{type:String,observer:"setAccept"},camera:Boolean,directory:{type:Boolean,value:!1,observer:"setDirectory"},extensions:{type:String},maxFiles:{type:Number,value:0,observer:"setMaxFiles"},maxSize:{type:Number,value:0},minSize:{type:Number,value:0},required:{type:Boolean,value:!1}},fileInputPrototype=Object.create(HTMLElement.prototype);fileInputPrototype.changeHandler=function(event){event.stopPropagation();var customEl=this,fileInput=customEl.querySelector(".fileInput"),files=arrayOf(fileInput.files),invalid={count:0},valid=[];if(files.length){var sizeValidationResult=getResultOfSizeValidation(customEl.minSize,customEl.maxSize,files),extensionValidationResult=getResultOfExtensionsValidation(customEl.extensions,sizeValidationResult.valid),countLimitValidationResult=getResultOfCountLimitValidation(customEl.maxFiles,extensionValidationResult.valid);if(sizeValidationResult.tooBig.length){invalid.tooBig=sizeValidationResult.tooBig;invalid.count+=sizeValidationResult.tooBig.length}if(sizeValidationResult.tooSmall.length){invalid.tooSmall=sizeValidationResult.tooSmall;invalid.count+=sizeValidationResult.tooSmall.length}if(extensionValidationResult.invalid.length){invalid.badExtension=extensionValidationResult.invalid;invalid.count+=extensionValidationResult.invalid.length}if(countLimitValidationResult.invalid.length){invalid.tooMany=countLimitValidationResult.invalid;invalid.count+=countLimitValidationResult.invalid.length}valid=countLimitValidationResult.valid;customEl.invalid=invalid;customEl.files=valid;updateValidity(customEl);customEl.dispatchEvent(new CustomEvent("change",{detail:{invalid:invalid,valid:valid}}))}};fileInputPrototype.invalidText="No valid files selected.";fileInputPrototype.setAccept=function(val){var fileInput=this.querySelector(".fileInput");fileInput.setAttribute("accept",val)};fileInputPrototype.setDirectory=function(val){var fileInput=this.querySelector(".fileInput");if(val&&fileInput.webkitdirectory!==void 0){fileInput.setAttribute("webkitdirectory","")}else{fileInput.removeAttribute("webkitdirectory")}};fileInputPrototype.setMaxFiles=function(val){var fileInput=this.querySelector(".fileInput");if(1!==val){fileInput.setAttribute("multiple","")}else{fileInput.removeAttribute("multiple")}};fileInputPrototype.attributeChangedCallback=function(attr,oldVal,newVal){declaredProps.syncProperty(this,properties,attr,newVal)};fileInputPrototype.createdCallback=function(){var fileInput,customEl=this;insertIntoDocument(this,"file-input");declaredProps.init(this,properties);this.setAccept(this.accept);fileInput=customEl.querySelector(".fileInput");fileInput.addEventListener("change",this.changeHandler.bind(this));customEl.files=[];customEl.invalid={count:0};if(customEl.camera&&isIos()){customEl.maxFiles=1;var iosCameraAccept="image/*;capture=camera";if(customEl.accept&&0<customEl.accept.length.trim().length){customEl.accept+=","+iosCameraAccept}else{customEl.accept=iosCameraAccept}}this.setMaxFiles(customEl.maxFiles);this.setDirectory(customEl.directory);if(customEl.required){setupValidationTarget(customEl)}};fileInputPrototype.reset=function(){var customEl=this;resetInput(customEl)};return fileInputPrototype}();</script><template id="file-input"><style>:host{position:relative;}.fileInput{bottom:0;height:100%;left:0;margin:0;opacity:0;padding:0;position:absolute;right:0;top:0;width:100%;}</style><content></content><input class="fileInput" type="file"></template><script>document.registerElement("file-input",{prototype:fileInput});</script></div><dom-module id="my-view1"><template><style include="shared-styles">:host{display:block;padding:10px;}.item{padding:10px;border-bottom:1px solid #ccc;background:white;}.item:hover{opacity:0.7;cursor:pointer;}.loadingIndicator{text-align:center;height:40px;}paper-spinner{width:20px;height:20px;margin-right:10px;}</style><div class="card"><file-input class="btn btn-primary" extensions="[&quot;jpeg&quot;, &quot;jpg&quot;,&quot;png&quot;]" min-size="500000" max-size="3000000">Select a file</file-input></div><div><br><p>We've restricted files to those with a "jpeg" or jpg" extension. Files also must be between 500 kB and 3 MB in size.</p></div><h3>valid selected files:</h3><div id="validFiles">No files selected.</div><h3>invalid selected files:</h3><div id="invalidFiles">No files selected.</div><div class="loadingIndicator"><paper-spinner active="{{loadingData}}"></paper-spinner></div><iron-scroll-threshold id="threshold" lower-threshold="500" on-lower-threshold="loadMoreData"></iron-scroll-threshold><iron-ajax verbose="" id="ajax" method="[[method]]" on-response="_handleResponse"></iron-ajax></template><script>document.getElementsByTagName("file-input")[0].addEventListener("change",function(event){var valid=event.detail.valid,invalid=event.detail.invalid,validFilesEl=document.getElementById("validFiles"),validFiles=[],invalidFilesEl=document.getElementById("invalidFiles"),invalidFiles={};if(valid.length){validFiles=valid.map(function(file){return{name:file.name,size:file.size}});validFilesEl.className="pre";validFilesEl.innerHTML=JSON.stringify(validFiles,null,3)}else{validFilesEl.className="";validFilesEl.innerHTML="No valid files."}if(invalid.count){Object.keys(invalid).forEach(function(key){if("count"!==key){invalidFiles[key]=invalid[key].map(function(file){return{name:file.name,size:file.size}})}});invalidFilesEl.className="pre";invalidFilesEl.innerHTML=JSON.stringify(invalidFiles,null,3)}else{invalidFilesEl.className="";invalidFilesEl.innerHTML="No invalid files."}});</script><script>var MyView1=function(_Polymer$Element){babelHelpers.inherits(MyView1,_Polymer$Element);function MyView1(){babelHelpers.classCallCheck(this,MyView1);return babelHelpers.possibleConstructorReturn(this,(MyView1.__proto__||Object.getPrototypeOf(MyView1)).apply(this,arguments))}babelHelpers.createClass(MyView1,null,[{key:"is",get:function get(){return"my-view1"}},{key:"properties",get:function get(){return{baseUrl:String}}}]);return MyView1}(Polymer.Element);window.customElements.define(MyView1.is,MyView1);</script></dom-module></body></html>